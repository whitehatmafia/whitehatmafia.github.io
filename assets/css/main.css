@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --terminal-green: theme('colors.emerald.500');
    --terminal-bg: theme('colors.gray.900');
    --terminal-text: theme('colors.gray.300');
    --terminal-header: theme('colors.gray.800');
  }
}

@layer components {
  .terminal-container {
    @apply fixed inset-0 flex items-center justify-center p-4 md:p-8;
  }

  .terminal-window {
    @apply w-full max-w-4xl h-[85vh] bg-[#1F1F1F] 
           rounded-none shadow-2xl backdrop-blur-md
           border-0 transition-all duration-300;

    &:hover {
      @apply shadow-emerald-500/20;
    }
  }

  .terminal-header {
    @apply flex items-center px-4 py-1.5
           bg-[#2F2F2F] border-b-0
           text-xs;
  }

  .terminal-controls {
    display: none; /* Remove macOS buttons */
  }

  .terminal-button {
    @apply w-3 h-3 rounded-full transition-transform
           hover:scale-110 cursor-pointer;

    &.close { @apply bg-red-500; }
    &.minimize { @apply bg-yellow-500; }
    &.maximize { @apply bg-green-500; }
  }

  .terminal-title {
    @apply text-gray-300 font-mono text-sm
           flex items-center gap-2;
    &::before {
      content: 'ðŸ¦Š';  /* Kali fox icon */
      @apply text-base;
    }
  }

  .terminal-content {
    @apply bg-[#1F1F1F] p-4 font-mono;
  }

  .command-input {
    @apply flex items-center gap-2;
  }

  .terminal-input-wrapper {
    @apply flex items-center gap-2 relative;
  }

  .terminal-input-line {
    @apply flex items-center gap-2 w-full;
  }

  .prompt {
    @apply text-[#4AF626] font-bold bg-transparent
           border-0 px-0;
    white-space: nowrap !important;
  }

  .input-field {
    @apply bg-transparent w-full outline-none
           text-gray-300 caret-emerald-500
           focus:bg-emerald-500/5 px-2 py-1
           transition-colors duration-200;
  }

  .command-output {
    @apply border-l-0 bg-transparent;
        
    a { @apply text-emerald-500 hover:text-emerald-400; }
  }

  .system-message {
    @apply text-emerald-500/70 text-sm pl-4 
           font-mono animate-fade-in-down;
    &:before {
      content: '[*] ';
      @apply text-yellow-500;
    }
  }

  .matrix-mode {
    @apply relative;
    &::before {
      @apply content-[''] fixed inset-0 z-[-1]
             bg-[linear-gradient(transparent,_#0f0)] opacity-30;
      animation: matrix 5s linear infinite;
    }
  }

  .command-error {
    @apply text-red-500 pl-4 border-l-2 border-red-500;
  }

  .command-success {
    @apply text-emerald-500 pl-4 border-l-2 border-emerald-500;
  }

  .welcome-message {
    @apply text-emerald-500 font-mono text-xs md:text-sm lg:text-base
           whitespace-pre font-bold;
    white-space: pre !important;
    font-family: 'JetBrains Mono', monospace !important;
    line-height: 1.2 !important;
    display: block !important;
    padding: 1rem !important;
    letter-spacing: 0 !important;
    tab-size: 1 !important;
  }
}

@layer utilities {
  .terminal-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.emerald.500/30') theme('colors.gray.800');
  }

  .terminal-scrollbar::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  .terminal-scrollbar::-webkit-scrollbar-track {
    @apply bg-gray-800 rounded-full;
  }

  .terminal-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-emerald-500/30 rounded-full hover:bg-emerald-500/50 transition-colors;
  }

  .glassmorphism {
    @apply backdrop-blur-md bg-opacity-90;
  }

  .typing-cursor::after {
    content: 'â–‹';
    @apply animate-blink text-emerald-500;
  }

  @keyframes matrix {
    0% { transform: translateY(-50%); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateY(50%); opacity: 0; }
  }

  .animate-matrix {
    animation: matrix 5s linear infinite;
  }
}

@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-0.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

@keyframes matrix {
  0% { transform: translateY(-50%); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(50%); opacity: 0; }
}

.animate-fade-in-down {
  animation: fade-in-down 0.3s ease-out;
}

.animate-blink {
  animation: blink 1s infinite;
}

/* Dark mode optimizations */
@media (prefers-color-scheme: dark) {
  .terminal-window {
    @apply bg-gray-900/95;
  }
  
  .command-output {
    @apply bg-black/30;
  }
}

/* Responsive design */
@screen sm {
  .terminal-window {
    @apply p-6;
  }
}

@screen lg {
  .terminal-window {
    @apply p-8;
  }
}
