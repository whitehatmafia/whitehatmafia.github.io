<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .cursor-blink {
            animation: blink 1s infinite;
        }

        .terminal-output {
            opacity: 0;
            transform: translateY(10px);
        }
    </style>
</head>
<body class="bg-black text-green-500 min-h-screen font-mono">
    <div class="terminal-container max-w-4xl mx-auto p-4">
        <div class="header space-y-2 mb-4">
            <div class="text-xl font-bold">â¯ Welcome to WhiteHat Mafia Terminal</div>
            <div class="text-sm opacity-80">
                ğŸ“ Technical Tutorials
                <br>ğŸ” Best Security Practices
            </div>
        </div>

        <div id="terminal" class="bg-gray-900/50 p-4 rounded-lg border border-green-500/20">
            <div id="output" class="space-y-2 mb-4"></div>
            <div class="input-line flex items-center space-x-2">
                <span class="terminal-prompt">â¯</span>
                <input 
                    type="text" 
                    id="input"
                    class="bg-transparent focus:outline-none flex-1 text-green-500"
                    autofocus
                    spellcheck="false"
                >
            </div>
        </div>
    </div>

    <footer class="fixed bottom-0 w-full p-4 text-center bg-black/50 backdrop-blur">
        <div class="terminal-text">
        <span class="terminal-prompt">â¯</span> 
            Â© 2024 WhiteHat Mafia
            <span class="cursor-blink">â–‹</span>
        </div>
    </footer>

    <script>
        class Terminal {
            constructor() {
                this.input = document.getElementById('input');
                this.output = document.getElementById('output');
                this.history = [];
                this.historyIndex = -1;
                this.initializeEventListeners();
            }

            initializeEventListeners() {
                this.input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        this.handleCommand();
                    } else if (e.key === 'ArrowUp') {
                        this.navigateHistory('up');
                        e.preventDefault();
                    } else if (e.key === 'ArrowDown') {
                        this.navigateHistory('down');
                        e.preventDefault();
                    }
                });
            }

            handleCommand() {
                const command = this.input.value.trim().toLowerCase();
                if (command) {
                    this.history.push(command);
                    this.historyIndex = this.history.length;
                    this.addToOutput(`â¯ ${command}`);
                    this.processCommand(command);
                }
                this.input.value = '';
            }

            processCommand(command) {
                const commands = {
                    help: () => {
                        this.addToOutput('Available commands: help, about, posts, projects, contact, clear');
                        return null;
                    },
                    about: () => {
                        window.location.href = '/about/';
                        return 'Navigating to About page...';
                    },
                    posts: () => {
                        window.location.href = '/posts/';
                        return 'Navigating to Posts page...';
                    },
                    projects: () => {
                        window.location.href = '/projects/';
                        return 'Navigating to Projects page...';
                    },
                    contact: () => {
                        window.location.href = '/contact/';
                        return 'Navigating to Contact page...';
                    },
                    clear: () => {
                        this.output.innerHTML = '';
                        return null;
                    },
                    ls: () => {
                        this.addToOutput('ğŸ“ Available sections:\n/about\n/posts\n/projects\n/contact');
                        return null;
                    },
                    pwd: () => {
                        return `Current path: ${window.location.pathname}`;
                    }
                };

                const commandName = command.split(' ')[0];
                if (commandName in commands) {
                    const result = commands[commandName]();
                    if (result) {
                        // Add animation for navigation messages
                        const line = document.createElement('div');
                        line.textContent = result;
                        this.output.appendChild(line);
                        gsap.from(line, {
                            opacity: 0,
                            y: 10,
                            duration: 0.3,
                            ease: "power2.out"
                        });
                    }
                } else {
                    this.addToOutput(`Command not found: ${command}`);
                }
            }

            addToOutput(text) {
                const line = document.createElement('div');
                line.className = 'terminal-output';
                line.textContent = text;
                this.output.appendChild(line);
                
                // Scroll to bottom
                this.output.scrollTop = this.output.scrollHeight;
                
                // Animate new line with GSAP
                gsap.fromTo(line, 
                    { opacity: 0, y: 10 },
                    { opacity: 1, y: 0, duration: 0.3, ease: "power2.out" }
                );
            }

            navigateHistory(direction) {
                if (direction === 'up' && this.historyIndex > 0) {
                    this.historyIndex--;
                    this.input.value = this.history[this.historyIndex];
                } else if (direction === 'down' && this.historyIndex < this.history.length - 1) {
                    this.historyIndex++;
                    this.input.value = this.history[this.historyIndex];
                } else if (direction === 'down' && this.historyIndex === this.history.length - 1) {
                    this.historyIndex = this.history.length;
                    this.input.value = '';
                }
            }
        }

        // Initialize terminal and show welcome message
        document.addEventListener('DOMContentLoaded', () => {
            const terminal = new Terminal();
            
            // Initial welcome messages with staggered animation
            const welcomeMessages = [
                'Welcome to WhiteHat Mafia Terminal ğŸš€',
                'Type "help" to see available commands',
                'Type "ls" to see available sections'
            ];

            gsap.from('.header', {
                opacity: 0,
                y: -20,
                duration: 1,
                ease: "power2.out"
            });
            
            gsap.from('#terminal', {
                opacity: 0,
                y: 20,
                duration: 1,
                delay: 0.3,
                ease: "power2.out",
                onComplete: () => {
                    // Add welcome messages with staggered animation
                    welcomeMessages.forEach((msg, index) => {
                        setTimeout(() => {
                            terminal.addToOutput(msg);
                        }, index * 500);
                    });
                }
            });
        });
    </script>
</body>
</html>
