<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --bg-color: #1a1b26;
            --text-color: #a9b1d6;
            --accent-color: #7aa2f7;
            --error-color: #f7768e;
            --success-color: #9ece6a;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Fira Code', monospace;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .terminal-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            color: var(--accent-color);
        }

        #terminal {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        .output-line {
            margin: 5px 0;
            line-height: 1.5;
        }

        .input-line {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .prompt {
            color: var(--accent-color);
            margin-right: 10px;
        }

        #input {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-family: inherit;
            font-size: inherit;
            flex-grow: 1;
            outline: none;
        }
        
         .success { color: var(--success-color); }
        .error { color: var(--error-color); }
        .directory { color: var(--accent-color); }
        .file { color: var(--text-color); }
    </style>
</head>
<body>
    <div class="terminal-container">
        <div class="header">
            <h1>Welcome to My Terminal Portfolio</h1>
        </div>
        <div id="terminal">
            <div id="output"></div>
            <div class="input-line">
                <span class="prompt">guest@portfolio:~$</span>
                <input type="text" id="input" autofocus>
            </div>
        </div>
    </div>

    <script>
        class Terminal {
            constructor() {
                this.currentPath = '/';
                this.fileSystem = {
                    '/': ['about', 'posts', 'projects', 'contact'],
                    '/posts': ['welcome'],
                    '/projects': ['project1'],
                    '/contact': []
                };
                this.content = {
                    '/about': 'Hi! I\'m a developer passionate about web technologies.',
                    '/posts/welcome': 'Welcome to my first blog post!',
                    '/projects/project1': 'This is my awesome project description.',
                    '/contact': 'Email: example@email.com\nGitHub: github.com/username'
                };
                this.output = document.getElementById('output');
                this.input = document.getElementById('input');
                this.setupEventListeners();
                this.showWelcomeMessage();
            }

            setupEventListeners() {
                this.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const command = this.input.value;
                        this.executeCommand(command);
                        this.input.value = '';
                    }
                });
            }

            showWelcomeMessage() {
                this.addToOutput('Welcome to my terminal portfolio! Type "help" for available commands.');
            }

            addToOutput(text, className = '') {
                const line = document.createElement('div');
                line.className = `output-line ${className}`;
                line.textContent = text;
                this.output.appendChild(line);
                this.output.scrollTop = this.output.scrollHeight;
            }

            executeCommand(command) {
                const cmdLine = document.createElement('div');
                cmdLine.className = 'output-line';
                cmdLine.textContent = `guest@portfolio:~$ ${command}`;
                this.output.appendChild(cmdLine);

                const [cmd, ...args] = command.trim().toLowerCase().split(' ');

                switch (cmd) {
                    case 'help':
                        this.showHelp();
                        break;
                    case 'ls':
                        this.ls();
                        break;
                    case 'cd':
                        this.cd(args[0]);
                        break;
                    case 'cat':
                        this.cat(args[0]);
                        break;
                    case 'pwd':
                        this.pwd();
                        break;
                    case 'clear':
                        this.clear();
                        break;
                    default:
                        this.addToOutput(`Command not found: ${cmd}`, 'error');
                }
            }

            showHelp() {
                const helpText = `
Available commands:
- help: Show this help message
- ls: List directory contents
- cd [dir]: Change directory
- cat [file]: Display file contents
- pwd: Print working directory
- clear: Clear the terminal
                `.trim();
                this.addToOutput(helpText);
            }

            ls() {
                const currentDirContent = this.fileSystem[this.currentPath] || [];
                if (currentDirContent.length === 0) {
                    this.addToOutput('ðŸ“‚ Directory is empty');
                    return;
                }
                
                const output = currentDirContent.map(item => {
                    const isDirectory = this.fileSystem[`${this.currentPath}/${item}`] !== undefined;
                    return `${isDirectory ? 'ðŸ“‚' : 'ðŸ“„'} ${item}`;
                }).join('\n');
                
                this.addToOutput(output);
            }

            cd(path) {
                if (!path || path === '/') {
                    this.currentPath = '/';
                    this.addToOutput('Changed to root directory', 'success');
                    return;
                }

                if (path === '..') {
                 if (this.currentPath === '/') {
                        this.addToOutput('Already at root directory', 'error');
                        return;
                    }
                    this.currentPath = this.currentPath.split('/').slice(0, -1).join('/') || '/';
                    this.addToOutput(`Changed to ${this.currentPath}`, 'success');
                    return;
                }

                const newPath = this.currentPath === '/' ? 
                    `/${path}` : `${this.currentPath}/${path}`;

                if (this.fileSystem[newPath] || Object.keys(this.fileSystem).some(p => p.startsWith(newPath))) {
                    this.currentPath = newPath;
                    this.addToOutput(`Changed to ${this.currentPath}`, 'success');
                } else {
                    this.addToOutput(`Directory not found: ${path}`, 'error');
                }
            }

            cat(filename) {
                if (!filename) {
                    this.addToOutput('Please specify a file', 'error');
                    return;
                }

                const filePath = this.currentPath === '/' ? 
                    `/${filename}` : `${this.currentPath}/${filename}`;

                if (this.content[filePath]) {
                    this.addToOutput(this.content[filePath]);
                } else {
                    this.addToOutput(`File not found: ${filename}`, 'error');
                }
            }

            pwd() {
                this.addToOutput(this.currentPath);
            }

            clear() {
                this.output.innerHTML = '';
                this.showWelcomeMessage();
            }
        }

        // Initialize the terminal when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.terminal = new Terminal();
        });
    </script>
</body>
</html>
